## ♻️ Tutorial: Estimating Environmental Footprints of AI Workloads

Environmental footprints can be estimated using a variety of inputs and metrics, but it is important to distinguish between the different types of footprints generated by the same model. In this context, we focus on three key aspects: **energy consumption**, **carbon footprint**, and **water footprint**. These can be quantified using standardized metrics provided by data centers in recent years, such as **Power Usage Effectiveness (PUE)**, **Carbon Usage Effectiveness (CUE)**, and **Water Usage Effectiveness (WUE)** (Goncalvez, 2023).

<br>

### Estimating Energy Consumption

When estimating the energy used during a computation, it's important to account for more than just CPU or GPU usage. Memory, storage, and data center infrastructure also contributes significantly. For this, we rely on the Green Algorithms methodology (Beel et al., 2024).

---

#### Power Draw from the Processor

The power consumed by a CPU or GPU is commonly estimated using a value called **Thermal Design Power (TDP)**, measured in watts. TDP, provided by hardware manufacturers, reflects the amount of heat a cooling system must dissipate under typical workloads. While it's not a direct measure of real power usage, it serves as a widely accepted approximation in energy tracking tools (Bouza, 2023).

Since TDP values are typically given **per core**, we multiply by the number of active cores ($n_c$) and the **core usage factor** ($u_c$), which represents how intensively the processor is being used. While tracking tools like CodeCarbon often use internal methods such as RAPL files or Power Gadget to measure actual energy consumption, TDP remains a useful approximation for theoretical calculations.

---

#### Power Draw from Memory

The energy consumed by memory depends primarily on the **total allocated memory**, rather than how much is actively used. This is because all memory modules .remains energized even when not in active use. 

To estimate this, we multiply the total memory allocated ($n_m$, in GB) by the average power draw per GB ($P_m$), which is approximately **0.3725 W/GB** (Karyakin et al., 2017; Angelini et al., 2014).

---

#### Power Draw from Storage

Storage devices (HDDs or SSDs) draw variable amounts of power depending on workload. However, during most computations, they are accessed less frequently than memory or processors. While their contribution is relatively small, it can still be included.

We estimate storage power draw as the power consumption per device ($P_s$) multiplied by the number of active storage units ($n_s$). Based on Tomes and Altiparmak (2017), **0.006 W/GB** can be used as a rough estimate for SSDs with 800 GB capacity.

---

#### Power Draw from Data Center Infrastructure

Beyond computing hardware, data centers consume energy for **cooling**, **lighting**, and **power distribution**. This overhead is typically captured by the **Power Usage Effectiveness (PUE)**, which is defined as:

$$
\text{PUE} = \frac{\text{Total Facility Energy}}{\text{IT Equipment Energy}}  
$$

In 2024, the global average PUE ranged from **1.5 to 1.6** (Taylor, 2025), while major cloud providers like Google, Meta, Microsoft, and Amazon report values as low as **1.1** (Butler, 2024).

---

Based on all the above, we can estimate the **energy consumption** (in watt-hours) over time (**t**, in hours). Since it is often difficult to track energy use at every time step, we typically simplify the calculation by using average values:

$$
\text{EnergyConsumption (Wh)} = \text{PUE} \times t \times \left( n_{c} \times P_{c} \times u_{c} + n_{m} \times P_{m} + n_{s} \times P_{s} \right)
$$

Where:

- $t$: duration of computation (in hours)  
- $n_c$: number of cores  
- $P_c$: power draw per core (W)  
- $u_c$: core usage factor  
- $n_m$: memory allocated (GB)  
- $P_m$: power draw per GB of memory (W/GB)  
- $n_s$: number of storage devices or GB of storage  
- $P_s$: power draw per storage unit or per GB (W)  
- $PUE$: power usage effectiveness of the data center

If it is possible to track each component’s usage over time, then a time-dependent formulation should be used instead:

$$
\text{Energy Consumption (Wh)} = \text{PUE} \times \sum_{i=0}^{t} \left( n_{ci} \times P_{ci} \times u_{ci} + n_{mi} \times P_{mi} + n_{si} \times P_{si} \right)
$$

<br>

### Estimating Carbon Footprint

There are several competing definitions of *carbon footprint*. In this project, we adopt the extended definition by Laurence A. Wright (Wright et al., 2020). The climate impact of an event is expressed in terms of **carbon dioxide equivalent (CO₂e)**, which summarizes the global warming potential of all greenhouse gases (GHGs) emitted over a given period—in our case, during the execution of a set of computations. 

To calculate the CO₂ equivalent of a specific GHG, its mass must be multiplied by its **Global Warming Potential (GWP)**. For example, methane (CH₄) has a GWP of 28, which means that 1 tonne of CH₄ corresponds to 28 tonnes of CO₂e (Spada, 2022).

<br>

The carbon footprint produced by an AI model can be decomposed into the different stages of the computing system, potentially including even hardware manufacturing and transportation. However, in this case, we only consider emissions from the **training phase**, based on the **energy consumed** during computation. If a full life-cycle assessment is desired, tools like **ACT** can be used to estimate **embodied emissions** (Gupta et al., 2022).

We estimate the operational carbon footprint using the following equation:

$$
C = E \times CI
$$

Where:  
- $C$: Carbon footprint (kg CO₂e)  
- $E$: Energy consumed (kWh)  
- $CI$: Carbon intensity (kg CO₂e / kWh)

<br>

The **carbon intensity** (CI) depends on the electricity mix of the region where the energy is generated. For instance, regions relying heavily on coal will have a higher CI than those using renewable sources. If the training is performed in cloud data centers, it is often more appropriate to use the **Carbon Usage Effectiveness (CUE)** metric instead.

CUE reflects the efficiency of a data center in terms of carbon emissions (Wilson, 2023) and can be calculated as:

$$
CUE = \frac{\text{Total CO}_{2} \text{ emissions (kg)}}{\text{Total IT Energy (kWh)}}
$$

If the CUE is available, we can estimate the carbon footprint using the following equivalent formula:

$$
C = E_{IT} \times CUE
$$

Where:
- $C$: Carbon footprint (kg CO₂e)
- $E_{IT}$: Energy consumed by IT equipment only (kWh)
- $CUE$: Carbon Usage Effectiveness (kg CO₂e / kWh)

<br>

### Estimating Water Footprint

To estimate the water footprint of AI workloads, we must consider additional factors beyond those used in carbon footprint estimation. Our methodology follows the framework presented in *Making AI Less “Thirsty”* (Pengfei et al., 2023).

There are two related but distinct concepts in water usage, both of which are important for understanding environmental impact:

- **Water withdrawal**: Refers to the total volume of freshwater taken from natural sources (groundwater or surface water) for use in agriculture, industry, or urban areas. It typically excludes water used for hydroelectric generation. Water withdrawal reflects the level of competition and dependency on water resources across sectors.
  
- **Water consumption**: Defined as water withdrawal minus water discharge. It represents the amount of water that is evaporated, transpired, incorporated into products or crops, or otherwise removed from the immediate water environment. Water consumption directly affects downstream water availability and is crucial for assessing water scarcity at the watershed level.

These two forms of water use correspond to two types of water footprint:
- **Water Withdrawal Footprint (WWF)**  
- **Water Consumption Footprint (WCF)**

Unless otherwise specified, *water footprint* typically refers to the WCF.

AI’s water usage spans across three scopes:
1. **Scope 1** – On-site water used for data center cooling  
2. **Scope 2** – Off-site water used for electricity generation  
3. **Scope 3** – Supply chain water used for server manufacturing (embodied water)

---

#### Operational Water Footprint

We refer to the combination of **on-site (scope 1)** and **off-site (scope 2)** water use as the *operational* water footprint.

- **On-site WUE (ρₛ₁,ₜ)**: The on-site Water Usage Effectiveness at time *t* is the ratio of water consumption for cooling to the IT energy consumed. It can vary depending on environmental conditions like temperature and humidity. For instance, cooling towers consume significantly more water when the external wet bulb temperature increases.

- **Off-site WUE (ρₛ₂,ₜ)**: The off-site WUE at time *t* measures the water consumed to generate each kWh of electricity and depends on the electricity mix of the local grid. It can be calculated as:

  $$
  \rho_{s2,t} = \frac{\sum_k b_{k,t} \times EWIF_k}{\sum_k b_{k,t}}
  $$

  where:
  - $b_{k,t}$: electricity generated from fuel type *k* at time *t*  
  - $EWIF_k$: Electricity Water Intensity Factor of fuel *k*

This means the off-site WUE varies with time and region, based on the fuel sources used for electricity generation.

Given a time-slotted model $t = 1, 2, \dots, T$, and assuming the AI model consumes energy ($e_t$) at each time step with a Power Usage Effectiveness of $\theta_t$, the total operational water footprint is:

$$
\text{Water}_{\text{Operational}} = \sum_{t=1}^{T} e_t \cdot \left( \rho_{s1,t} + \theta_t \cdot \rho_{s2,t} \right)
$$

---

#### Embodied Water Footprint

The **embodied water footprint** refers to the water used in manufacturing servers and infrastructure. Let:
- $W$: total water used to manufacture the AI servers  
- $T_0$: expected lifespan of the servers  
- $T$: analysis period

Then, the amortized embodied water footprint over period ($T$) is:

$$
\text{Water}_{\text{Embodied}} = \frac{T \cdot W}{T_0}
$$

---

#### Total Water Footprint

The total hydric footprint combines both **operational** and **embodied** water use:

$$
\text{Water}_{\text{Total}} = \sum_{t=1}^{T} e_t \cdot \left( \rho_{s1,t} + \theta_t \cdot \rho_{s2,t} \right) + \frac{T \cdot W}{T_0}
$$

In practice, when time-series data is unavailable, this equation can be **simplified** by using the average **Water Usage Effectiveness (WUE)** and an estimate of the total energy consumption of the workload. 

WUE is a common data center metric that measures the efficiency of water usage (Tozzi, 2025). It is defined as:

$$
\text{WUE} = \frac{\text{Total Water Consumed (L)}}{\text{Total IT Energy (kWh)}}
$$

A typical average value of WUE is approximately **1.8 L/kWh**.

As with the carbon footprint simplification, we **exclude embodied water** in this approximation due to the lack of reliable and granular manufacturing lifecycle data.

The simplified estimation of the water footprint is:

$$
W = E \times WUE
$$

Where:  
- $W$: Estimated water footprint (in liters)  
- $E$: Total energy consumption of the workload (in kWh)  
- $WUE$: Water Usage Effectiveness (liters per kWh), representing the average water consumption per unit of IT energy used in the data center.


<br>

### References

Angelini, C., & Wallossek, I. (2014, August 29). *Intel Core i7-5960X, -5930K and -5820K CPU Review: Haswell-E rises*. Tom’s Hardware. https://www.tomshardware.com/reviews/intel-core-i7-5960x-haswell-e-cpu,3918-13.html

Beel, J., Said, A., Vente, T., & Wegmeth, L. (2024). Green recommender systems: A call for attention. *ACM SIGIR Forum, 58*(2), 1–5. https://doi.org/10.1145/3722449.3722468

Bouza, L., Bugeau, A., & Lannelongue, L. (2023). How to estimate carbon footprint when training deep learning models? A guide and review. *Environmental Research Communications*. https://doi.org/10.1088/2515-7620/acf81b

Butler, G. (2024). AWS global data centers achieved PUE of 1.15 in 2023. *Datacenterdynamics*. https://www.datacenterdynamics.com/en/news/aws-global-data-centers-achieved-pue-of-115-in-2023/

Goncalvez, D. (2023). The search for the sustainability triangle: PUE, CUE, and WUE. *Vertiv*. https://www.vertiv.com/en-latam/about/news-and-insights/articles/blog-posts/the-search-for-the-sustainability-triangle-pue-cue-and-wue/

Gupta, U., Elgamal, M., Hills, G., Wei, G.-Y., Lee, H.-H. S., Brooks, D., & Wu, C.-J. (2022). ACT: designing sustainable computer systems with an architectural carbon modeling tool. In *Proceedings of the 49th Annual International Symposium on Computer Architecture* (pp. 304–318). https://doi.org/10.1145/3470496.3527408

Karyakin, A., & Salem, K. (2017). An analysis of memory power consumption in database systems. In *Proceedings of the 13th International Workshop on Data Management on New Hardware (DaMoN ’17)* (Article 2, pp. 1–9). Association for Computing Machinery. https://doi.org/10.1145/3076113.3076117

Li, P., Yuan, J., Islam, M., & Ren, S. (2023). Making AI less "Thirsty": Uncovering and addressing the secret water footprint of AI models. *arXiv*. https://doi.org/10.48550/arXiv.2304.03271

Spada, A. (2023). What is CO2 equivalent (CO2E) and how is it calculated? *zeroCO2*. https://zeroco2.eco/en/magazine/environment/co2-equivalent/

Taylor, P. (2025). Global data center average annual power usage effectiveness (PUE) 2007–2024. *Statista*. https://www.statista.com/statistics/1229367/data-center-average-annual-pue-worldwide/

Tomes, E., & Altiparmak, N. (2017). A comparative study of HDD and SSD RAIDs’ impact on server energy consumption. In *2017 IEEE International Conference on Cluster Computing (CLUSTER)* (pp. 625–626). https://doi.org/10.1109/cluster.2017.103

Tozzi, C. (2025, January 17). A guide to data center water usage effectiveness (WUE) and best practices. *Data Center Knowledge*. https://www.datacenterknowledge.com/cooling/a-guide-to-data-center-water-usage-effectiveness-wue-and-best-practices

Wilson, M. (2023). Understanding and calculating carbon usage effectiveness (CUE) in data centers. *Nlyte*. https://www.nlyte.com/blog/understanding-and-calculating-carbon-usage-effectiveness-cue-in-data-centers/

Wright, L. A., Kemp, S., & Williams, I. (2011). ‘Carbon footprinting’: Towards a universally accepted definition. *Carbon Management, 2*(1), 61–72. https://doi.org/10.4155/cmt.10.39
